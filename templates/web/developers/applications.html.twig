{% extends 'account/base.html.twig' %}

{% use "developers/header.html.twig" with header as parent_header %}

{% block title %}
    {% trans 'Client applications' %}
{% endblock %}

{% block head %}
    {{ block('parent_header') }}
{% endblock %}

{% set selected = "developer" %}

{% block content %}
    <div class="row-fluid">
        <div class="span7">
            <div id="content-apps">
                <h1>Phraseanet Developer Center</h1>
                <h3>{% trans 'Mes applications' %}</h3>
                {% if applications|length > 0 %}
                    <ul class='app-list unstyled'>
                        {% for application in applications %}
                              <li id='app_{{application.get_id()}}'>
                                  <div>
                                      <a href="#appModal-{{ loop.index }}" role="button" data-toggle="modal" class='btn btn-danger btn-small' type='button'>
                                          {% trans  'button::supprimer'%}
                                      </a>
                                      <!-- Modal -->
                                      <div id="appModal-{{ loop.index }}" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                                          <div class="modal-header">
                                              <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
                                              <h3 id="myModalLabel">{{application.get_name()}}</h3>
                                          </div>
                                          <div class="modal-body">
                                              <p>{% trans "Are you sure you want to delete this application?" %} </p>
                                          </div>
                                          <div class="modal-footer">
                                              <button class="btn" data-dismiss="modal" aria-hidden="true">{% trans "No" %}</button>
                                              <button class="delete-app btn btn-primary">{% trans "Yes" %}</button>
                                          </div>
                                      </div>
                                      <span class='app-row'>
                                        <strong>
                                          <a  class="link" href="/developers/application/{{application.get_id()}}/">
                                              {{application.get_name()|title}}
                                          </a>
                                        </strong>
                                      </span>
                                      <span class='app-row'>{{application.get_description() }}</span>
                                      <span class='app-row'>{{application.get_website()}}</span>
                                  </div>
                              </li>
                        {%endfor%}
                    </ul>
                {% else %}
                    <div>
                      {% trans 'Aucune application creee.' %}
                    </div>
                {% endif %}
            </div>
        </div>
        <div class="span5">
            <div>
                <a href="http://developer.phraseanet.com/" target="_blank" class="btn btn-large">
                    {% trans 'Demarrer avec l\'API Phraseanet' %}
                </a>
                <p>{% trans 'Decouvrez la documentation' %}</p>
            </div>
            <div>
                <a href="/developers/application/new/" class="btn-info btn btn-large">
                    {% trans 'Creer une nouvelle applications' %}
                </a>
                <p>{% trans 'Creez une application pour commencer a utiliser l\'API Phraseanet' %}</p>
            </div>
        </div>
    </div>
{% endblock %}
